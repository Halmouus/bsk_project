{% load accounting_filters %}

{% for entry in entries %}
<tr>
    <td>{{ entry.date|date:"Y-m-d" }}</td>
    <td>{{ entry.label }}</td>
    <td>
        <span class="badge badge-{{ entry.type|lower }}">
            {{ entry.type }}
        </span>
    </td>
    <td class="text-right text-danger">
        {% if entry.debit %}{{ entry.debit|format_balance }}{% endif %}
    </td>
    <td class="text-right text-success">
        {% if entry.credit %}{{ entry.credit|format_balance }}{% endif %}
    </td>
    <td>{{ entry.reference }}</td>
    <td class="text-right {% if entry.balance > 0 %}text-success{% else %}text-danger{% endif %}">
        {{ entry.balance|format_balance }}
    </td>
    <td>
        {% if entry.source_type == 'presentation_receipt' %}
        <button class="btn btn-sm btn-info" onclick="viewPresentation('{{ entry.source_id }}')">
            <i class="fas fa-eye"></i>
        </button>
        {% else %}
        <button class="btn btn-sm btn-info" onclick="viewReceipt('{{ entry.source_type }}', '{{ entry.source_id }}')">
            <i class="fas fa-eye"></i>
        </button>
        {% endif %}
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="8" class="text-center">No entries found for this period</td>
</tr>
{% endfor %}